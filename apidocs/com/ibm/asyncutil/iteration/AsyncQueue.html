<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (9.0.4) on Thu Apr 05 15:32:38 CDT 2018 -->
<title>AsyncQueue (asyncutil-aggregator 0.0.2-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="date" content="2018-04-05">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-1.10.2.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AsyncQueue (asyncutil-aggregator 0.0.2-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AsyncQueue.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.End.html" title="enum in com.ibm.asyncutil.iteration"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/ibm/asyncutil/iteration/AsyncQueues.html" title="class in com.ibm.asyncutil.iteration"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/ibm/asyncutil/iteration/AsyncQueue.html" target="_top">Frames</a></li>
<li><a href="AsyncQueue.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><span>SEARCH:&nbsp;</span>
<input type="text" id="search" value=" " disabled="disabled">
<input type="reset" id="reset" value=" " disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="../../../../com/ibm/asyncutil/iteration/package-summary.html">com.ibm.asyncutil.iteration</a></div>
<h2 title="Interface AsyncQueue" class="title">Interface AsyncQueue&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - The type of the elements in this queue</dd>
</dl>
<dl>
<dt>All Superinterfaces:</dt>
<dd><code><a href="../../../../com/ibm/asyncutil/util/AsyncCloseable.html" title="interface in com.ibm.asyncutil.util">AsyncCloseable</a></code>, <code><a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html" title="interface in com.ibm.asyncutil.iteration">AsyncIterator</a>&lt;T&gt;</code></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">AsyncQueue&lt;T&gt;</span>
extends <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html" title="interface in com.ibm.asyncutil.iteration">AsyncIterator</a>&lt;T&gt;</pre>
<div class="block">An unbounded async multi-producer-single-consumer queue.

 <p>
 This class provides a queue abstraction that allows multiple senders to place values into the
 queue synchronously, and a single consumer to consume values as they become available
 asynchronously. You can construct an <a href="../../../../com/ibm/asyncutil/iteration/AsyncQueue.html" title="interface in com.ibm.asyncutil.iteration"><code>AsyncQueue</code></a> with the static methods on
 <a href="../../../../com/ibm/asyncutil/iteration/AsyncQueues.html" title="class in com.ibm.asyncutil.iteration"><code>AsyncQueues</code></a>.

 <p>
 This interface represents an <i> unbounded </i> queue, meaning there is no mechanism to notify
 the sender that the queue is "full" (nor is there a notion of the queue being full to begin
 with). The queue will continue to accept values as fast as the senders can <a href="../../../../com/ibm/asyncutil/iteration/AsyncQueue.html#send-T-"><code>send(T)</code></a> them,
 regardless of the rate at which the values are being consumed. If senders produce a lot of values
 much faster than the consumption rate, it will lead to an out of memory error, so users are
 responsible for enforcing that the queue does not grow too large. If you would like a queue
 abstraction that provides backpressure, see <a href="../../../../com/ibm/asyncutil/iteration/BoundedAsyncQueue.html" title="interface in com.ibm.asyncutil.iteration"><code>BoundedAsyncQueue</code></a>.

 <p>
 This queue can be terminated by someone calling <a href="../../../../com/ibm/asyncutil/iteration/AsyncQueue.html#terminate--"><code>terminate()</code></a>, which can be called by
 consumers or senders. It is strongly recommended that all instances of this class eventually be
 terminated. Most terminal operations on <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html" title="interface in com.ibm.asyncutil.iteration"><code>AsyncIterator</code></a> return
 <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html?is-external=true" title="class or interface in java.util.concurrent"><code>CompletionStages</code></a> whose stage will not complete until
 the queue is terminated. After the queue is terminated, subsequent <a href="../../../../com/ibm/asyncutil/iteration/AsyncQueue.html#send-T-"><code>send(T)</code></a>s are rejected,
 though consumers of the queue will still receive any values that were sent before the
 termination.

 <p>
 Typically you'll want to use a queue when you have some "source" of items, and want to consume
 them asynchronously as the become available. Some examples of sources could be a collection of
 <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html?is-external=true" title="class or interface in java.util.concurrent"><code>CompletionStages</code></a>, bytes off of a socket, results
 produced by dedicated worker threads, etc. Suppose you had a scenario where you had many threads
 doing some CPU intensive computation, and you'd send their answers off to some server one at a
 time.

 <pre>
 <code>
 AsyncQueue&lt;Integer&gt; queue = AsyncQueues.unbounded();
 for (i = 0; i &lt; numThreads; i++) {
   // spawn threads that send results to queue
   threadpool.submit(() -&gt; {
      while (canStillCompute) {
        int num = computeReallyExpensiveThing();
        queue.send(num);
      }
    });
 }

 //consumer of queue, sending numbers to a server one at a time
 queue
   // lazily map numbers to send
   .thenCompose(number -&gt; sendToServer(number))
   // consume all values
   .consume()
   // iteration stopped (meaning queue was terminated)
   .thenAccept(ig -&gt; sendToServer("no more numbers!");

 threadpool.awaitTermination();
 // terminate the queue, done computing
 queue.terminate();

 </code>
 </pre>

 <p>
 It is also convenient to use a queue to merge many <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html" title="interface in com.ibm.asyncutil.iteration"><code>AsyncIterator</code></a>s together. Consider the
 destination server in the previous example, now with many compute servers sending the numbers
 they were computing. If we used <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#concat-java.util.Iterator-"><code>AsyncIterator.concat(java.util.Iterator&lt;? extends com.ibm.asyncutil.iteration.AsyncIterator&lt;T&gt;&gt;)</code></a> in the following example, we would
 wait until we got all the work from the first iterator to move onto the next. With a queue we
 instead process each number as soon as it becomes available.

 <pre>
 <code>
 AsyncIterator&lt;Integer&gt; getNumbersFrom(ServerLocation ip);
 AsyncQueue queue = AsyncQueues.unbounded();
 futures = ips.stream()

    // get an AsyncIterator of numbers from each server
   .map(this::getNumbersFrom)

    // send each number on each iterator into the queue as they arrive
   .forEach(asyncIterator -&gt; asyncIterator.forEach(t -&gt; queue.send(t)))

   // bundle futures into a list
   .collect(Collectors.toList());

 // terminate the queue whenever we're done sending
 Combinators.allOf(futures).thenAccept(ignore -&gt; queue.terminate());

 // prints each number returned by servers as they arrive
 queue
   .forEach(num -&gt; System.out.println(num))
   .thenAccept(ig -&gt; System.out.println("finished getting all numbers")));
 </code>
 </pre>

 <p>
 A reminder, all topics addressed in the documentation of <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html" title="interface in com.ibm.asyncutil.iteration"><code>AsyncIterator</code></a> apply to this
 interface as well. Most importantly this means:

 <ul>
 <li>Consumption of an AsyncIterator is <b> not </b> thread safe
 <li>Lazy methods on AsyncIterator like thenApply/thenCompose don't consume anything. Make sure
 you actually use a consumption operation somewhere, otherwise no one will ever read what was sent
 </ul></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/ibm/asyncutil/iteration/AsyncQueues.html" title="class in com.ibm.asyncutil.iteration"><code>AsyncQueues</code></a>, 
<a href="../../../../com/ibm/asyncutil/iteration/BoundedAsyncQueue.html" title="interface in com.ibm.asyncutil.iteration"><code>BoundedAsyncQueue</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.com.ibm.asyncutil.iteration.AsyncIterator">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;com.ibm.asyncutil.iteration.<a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html" title="interface in com.ibm.asyncutil.iteration">AsyncIterator</a></h3>
<code><a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.End.html" title="enum in com.ibm.asyncutil.iteration">AsyncIterator.End</a></code></li>
</ul>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html?is-external=true" title="class or interface in java.util">Optional</a>&lt;<a href="../../../../com/ibm/asyncutil/iteration/AsyncQueue.html" title="type parameter in AsyncQueue">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../com/ibm/asyncutil/iteration/AsyncQueue.html#poll--">poll</a></span>&#8203;()</code></th>
<td class="colLast">
<div class="block">Gets a result from the queue if one is immediately available.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../com/ibm/asyncutil/iteration/AsyncQueue.html#send-T-">send</a></span>&#8203;(<a href="../../../../com/ibm/asyncutil/iteration/AsyncQueue.html" title="type parameter in AsyncQueue">T</a>&nbsp;item)</code></th>
<td class="colLast">
<div class="block">Sends a value into this queue that can be consumed via the <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html" title="interface in com.ibm.asyncutil.iteration"><code>AsyncIterator</code></a> interface.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../com/ibm/asyncutil/iteration/AsyncQueue.html#terminate--">terminate</a></span>&#8203;()</code></th>
<td class="colLast">
<div class="block">Terminates the queue, disabling <a href="../../../../com/ibm/asyncutil/iteration/AsyncQueue.html#send-T-"><code>send(T)</code></a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.ibm.asyncutil.iteration.AsyncIterator">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.ibm.asyncutil.iteration.<a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html" title="interface in com.ibm.asyncutil.iteration">AsyncIterator</a></h3>
<code><a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#batch-java.util.stream.Collector-int-">batch</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#batch-java.util.stream.Collector-java.util.function.BiPredicate-">batch</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#close--">close</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-">collect</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#collect-java.util.stream.Collector-">collect</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#concat-com.ibm.asyncutil.iteration.AsyncIterator-">concat</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#concat-java.util.Iterator-">concat</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#consume--">consume</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#empty--">empty</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#error-java.lang.Throwable-">error</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#exceptionally-java.util.function.Function-">exceptionally</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#filter-java.util.function.Predicate-">filter</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#filterApply-java.util.function.Function-">filterApply</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#filterCompose-java.util.function.Function-">filterCompose</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#find-java.util.function.Predicate-">find</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#fold-T-java.util.function.BinaryOperator-">fold</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#fold-U-java.util.function.BiFunction-">fold</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#forEach-java.util.function.Consumer-">forEach</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#fromIterator-java.util.Iterator-">fromIterator</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#fuse--">fuse</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#generate-java.util.function.Supplier-">generate</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#infiniteRange-long-">infiniteRange</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#nextStage--">nextStage</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#once-T-">once</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#range-long-long-">range</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#repeat-T-">repeat</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#supply-java.util.function.Supplier-">supply</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#take-long-">take</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#takeWhile-java.util.function.Predicate-">takeWhile</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#thenApply-java.util.function.Function-">thenApply</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#thenApplyAsync-java.util.function.Function-">thenApplyAsync</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#thenApplyAsync-java.util.function.Function-java.util.concurrent.Executor-">thenApplyAsync</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#thenCompose-java.util.function.Function-">thenCompose</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#thenComposeAhead-java.util.function.Function-int-">thenComposeAhead</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#thenComposeAsync-java.util.function.Function-">thenComposeAsync</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#thenComposeAsync-java.util.function.Function-java.util.concurrent.Executor-">thenComposeAsync</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#thenFlatten-java.util.function.Function-">thenFlatten</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#thenFlattenAhead-java.util.function.Function-int-">thenFlattenAhead</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#unfold-T-java.util.function.Function-">unfold</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#unordered-java.util.Collection-">unordered</a>, <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#zipWith-com.ibm.asyncutil.iteration.AsyncIterator-com.ibm.asyncutil.iteration.AsyncIterator-java.util.function.BiFunction-">zipWith</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="send-java.lang.Object-">
<!--   -->
</a><a name="send-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>send</h4>
<pre>boolean&nbsp;send&#8203;(<a href="../../../../com/ibm/asyncutil/iteration/AsyncQueue.html" title="type parameter in AsyncQueue">T</a>&nbsp;item)</pre>
<div class="block">Sends a value into this queue that can be consumed via the <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html" title="interface in com.ibm.asyncutil.iteration"><code>AsyncIterator</code></a> interface.

 <p>
 This method is thread safe - multiple threads can send values into this queue concurrently.
 This queue is unbounded, so it will continue to accept new items immediately and store them in
 memory until they can be consumed. If you are sending work faster than you can consume it, this
 can easily lead to an out of memory condition.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>item</code> - the item to be sent into the queue</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the item was accepted, false if it was rejected because the queue has already
         been terminated</dd>
</dl>
</li>
</ul>
<a name="terminate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>terminate</h4>
<pre>void&nbsp;terminate&#8203;()</pre>
<div class="block">Terminates the queue, disabling <a href="../../../../com/ibm/asyncutil/iteration/AsyncQueue.html#send-T-"><code>send(T)</code></a>.

 <p>
 After the queue is terminated all subsequent sends will be rejected, returning false. After the
 consumer consumes whatever was sent before the terminate, the consumer will receive an end of
 iteration notification.

 <p>
 This method is thread-safe, and can be called multiple times. An attempt to terminate after
 termination has already occurred is a no-op.</div>
</li>
</ul>
<a name="poll--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>poll</h4>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html?is-external=true" title="class or interface in java.util">Optional</a>&lt;<a href="../../../../com/ibm/asyncutil/iteration/AsyncQueue.html" title="type parameter in AsyncQueue">T</a>&gt;&nbsp;poll&#8203;()</pre>
<div class="block">Gets a result from the queue if one is immediately available.

 <p>
 This method consumes parts of the queue, so like the consumption methods on
 <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html" title="interface in com.ibm.asyncutil.iteration"><code>AsyncIterator</code></a>, this method is not thread-safe and should be used in a single threaded
 fashion. After <a href="../../../../com/ibm/asyncutil/iteration/AsyncQueue.html#terminate--"><code>terminate()</code></a> is called and all outstanding results are consumed, poll
 will always return empty. This method <b> should not </b> be used if there are null values in
 the queue. <br>
 Notice that the queue being closed is indistinguishable from the queue being transiently empty.
 To discover that no more results will ever be available, you must use the normal means on
 <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html" title="interface in com.ibm.asyncutil.iteration"><code>AsyncIterator</code></a>: either calling <a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.html#nextStage--"><code>AsyncIterator.nextStage()</code></a> and seeing if the result indicates
 an end of iteration when the future completes, or using one of the consumer methods that only
 complete once the queue has been closed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a present T value if there was one immediately available in the queue, otherwise empty
         if the queue is currently empty</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if the polled result is null</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AsyncQueue.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/ibm/asyncutil/iteration/AsyncIterator.End.html" title="enum in com.ibm.asyncutil.iteration"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/ibm/asyncutil/iteration/AsyncQueues.html" title="class in com.ibm.asyncutil.iteration"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/ibm/asyncutil/iteration/AsyncQueue.html" target="_top">Frames</a></li>
<li><a href="AsyncQueue.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018. All rights reserved.</small></p>
</body>
</html>
